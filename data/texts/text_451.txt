Chronic illnesses typically involve multiple healthcare specialists over an extended period. Relying on Electronic Health Records (EHR) alone to understand the health status of a person with a chronic illness could result in an incomplete picture of patient proles [1]. Such an incomplete picture is not only due to disconnected EHR systems being used by dierent healthcare providers, but also due to incomplete data from Observations of Daily Living (ODL) [2] and Social Determinants of Health (SDoH) [3]. Many chronic illnesses, such as Type 2 Diabetes (T2D), impose a signicant burden on patients to self-manage their disease, requiring health behavior change, health status monitoring with robust ODL mechanisms, medication adherence, and patient self-management behaviors that may require comprehensive education. Most clinicians focus their eorts on medical care while expecting patients to take on the responsibility of lifestyle modications, including healthy eating. Therefore, using nutritional behavior as a focus, we demonstrate how semantic modeling of nutritional guidelines and semantic reasoners can utilize the Personal Health Knowledge Graph (PHKG) to provide personalized insights for T2D self-management consistent with clinical guidelines. Our PHKG is annotated using the Personal Health Ontology (PHO) developed for capturing lifestyle behaviors related to food consumption. Furthermore, using an application that captures summarized food logs annotated with concepts from our FoodKG [4] and our PHO-annotated PHKG, we run a semantic reasoner to generate clinically relevant dietary recommendations for the user as demonstrated in Figure 1. A Personal Knowledge Graph (PKG) as dened by Balog and Kenter is viewed as a consolidated resource that stores unique entities, which may additionally be linked to external sources and contains entities that do not exist in any other knowledge graphs [5]. The research proposal set out by Balog and Kenter for PKGs further outlines several key dierences between personalized KGs and personal KGs. Personalized KGs do not go beyond a general-purpose KG, but rather customize it in some way to match a user’s need or prole. Personal KGs, on the other hand, contain a set of entities with links to other KGs, capturing many aspects centered around a user. Such personalization is essential when providing clinically relevant dietary recommendations for an individual, which is our work’s focus. For example, Balog and Kenter highlights that PKG relations may often be short-lived (e.g. “what I plan on cooking tonight”). In our PHO, we capture the semantics that can potentially answer such questions. Extending the PKGs to the health domain, Gyrard et al. dene Personal Health Knowledge Graph to include information about people, including their medical history, demographics, social information, and preferences [6]. The PHKG is then a subgraph of a larger KG that aggregates knowledge from heterogeneous sources, including Figure 1: Overview of the System Generating Dietary Recommendations medical datasets and IoT devices containing only information relevant to the user. However, given that broad denition, it is often impossible to determine what would be included and excluded from the graph, especially in a dietary recommendation setting. The Healthy Lifestyle Support (HeLiS) Ontology [7] integrates food and activity for personalized health monitoring scenarios and has been utilized in a mobile application that can be used by patients with chronic diseases such as T2D. However, the HeLiS ontology modeling primarily focuses on the specic foods and the activities the individuals must consume, not on the contextual elements that could be used to personalize any recommendations given to the patient. The Ontology for Nutritional Studies (ONS) integrates the terms related to food description, medical science, genetics, genomics data, and nutritional science methods for diet and health research [8]. The ONS was developed to harmonize biochemical, genetic, clinical, and nutritional concepts typically found in intervention and observational studies in human nutrition that can assist nutrition researchers by selecting the appropriate terms from a wide range of existing ontologies and creating the relevant missing key concepts for the eld. While this ontology contains a lot of information about human nutrition, due to the focus of observational studies, it is not straightforward to use it for dietary recommendations. In addition, the Bionutrition Ontology (BNO) represents a controlled vocabulary of nutritional terms [9]. However, the BNO lacks proper annotation of terms or denitions of properties and lacks orthogonality (i.e., no terms are imported or refer to external ontologies). Many of these limitations were addressed in the design of the PHO described in Section 3. Based on a set of interviews conducted with 21 people who declared themselves to be within ve years of being diagnosed with T2D, we developed the PHO to characterize the dietary behaviors of people with T2D, with the expectation that the PHO would be extended to other aspects of personal health in the future. First, we extracted answers from the interview transcripts and categorized them into concepts that capture the nutritional questions and concerns of people with diabetes. Special care was taken not to include general knowledge questions about food (“What is Tahini made of?”), as that could be answered by our FoodKG [4] directly without any personalization. The categories include: 1. Likes(I prefer spicy food. Suggest a good breakfast with chilies.) 2. Dislikes(I do not like peanuts. Suggest a snack without peanuts.) 3. Nutrient-focused(Can you suggest Indian recipes with fewer calories [due to my T2D condition]?) 4. Substitution(What should I eat instead [due to my T2D condition]?) 5. Restaurant Knowledge(To keep to my dietary regimen, what restaurants should I go to?) 6. Cooking Methodology(What dishes could I prepare with the appliances I have in my kitchen?) 7. Financial(Are there cheaper menu items that I can eat?) 8. Medical Condition(Can you suggest recipes that would limit my vitamin K intake?) Second, we put a particular emphasis on the following aspects that were underlying themes across many of the questions and answers of the participants. Context:It might be that little more is known about an entity than its type and the relation to the user. For example, the likes and dislikes of the user can be ascertained by looking at the foods that co-occur in the food log. The favorite food type can be determined by looking at the frequency of the meal. The PHKG should not contain all the possible entity attributes but only those important to the user in a given context. To encode such types of context, we primarily used the concepts and relationships from the Provenance (prov) ontology (https://www.w3.org/TR/prov-o). Time:Well-established and relatively stable relationships over time are essential criteria to be considered for inclusion in the PHKG. Therefore, we dened concepts such asto capture temporal patterns to identify the user’s behaviors to either suggest similar foods (if they are healthy options) or alternate foods (if they are not appropriate given the user’s specic health condition). Likelihood Estimates:In some cases, it would be desirable to include the likelihood of a personal recommendation or the temporal patterns mined from their food logs to someone. For those purposes, we utilize several concepts from community-dened ontologies. Examples include theconcept from the Statistics Ontology (stato) (http://stato-ontology. org), andfrom the Semantic-science Integrated Ontology (sio) (https://bioportal.bioontology.org/ ontologies/SIO). Utilizing an extended Time Series Summarization (TSS) framework [10] on synthetic food logs, we generated behavioral insights annotated with the PHO to generate the PHKG focusing on dietary behaviors of users. The TSS framework was previously designed to automatically generate natural language summaries of temporal personal health data utilizing advanced temporal data-mining techniques, such as frequent pattern mining and categorical clustering methods, to surface comprehensible and meaningful explanations to a non-expert user [10]. We extended this framework to generate RDF triples based on temporal patterns found within the data. The patterns discovered are related to the constraints mentioned by T2D patients within the user study mentioned above. Instead of the natural language summaries that would be output from the TSS, we utilize the PHO concepts to capture the temporal patterns in the PHKG as RDF triples. The food log was gathered from synthetic data spanning ve weeks at the meal-level granularity using the MyFitnessPal schema. For each meal, we have the nutrient information of the food consumed (i.e., nutrient consumption such as calorie intake) and the names of the foods consumed. Since our goal is to recommend clinically relevant diet recommendations, we focus on temporal patterns on nutrient intake, such as the recommendation to maintain a consistent carbohydrate intake, such as the following temporal summary. A user whose dietary preference is to maintain a lowcarb, high-fat diet would be interested in a summary that species how frequently they have been consistent with a low-carb, high-fat diet. The concepts, andare dened in the PHO to comprise of a diet either high or low of the corresponding macronutrient as advised by a subject matter expert. The extended-TSS uses these threshold values to determine if the temporal data pertaining to the diet is either a such. Listing 2:RDF representation for “You have been main- We can also go deeper by nding a relationship between low-carb and high-fat consumption on a day-to-day basis using a relationship that encapsulates the consumption of the two types of macronutrients that would be captured in the value could indicate whether the user usually tends to exhibit either kind of consumption, as shown in Listing 3. Listing 3:RDF representation for “You have been maintaining a low-carb, high-fat diet.” Our PHKG comprises patterns such as the ones described above captured as RDF triples, with a specic focus on foods consumed. For T2D treatment and management, the American Diabetes Association (ADA) [11] has generated a set of guidelines that includes the necessary guidance of dietary intake for people with diabetes or pre-diabetes. As such, the ADA clinical practice guideline contains several chapters, such as “Classication and Diagnosis of Diabetes" [12] that includes information on characterizing diabetes, “Prevention or Delay of Type 2 Diabetes" [13] that includes lifestyle interventions, among others, to guide pre-diabetic individuals, and “Pharmacologic Approaches to Glycemic Treatment" [14] that contains information for managing T2D with medications. In this section, we describe the semantic modeling of two selected ADA guideline recommendations focused on dietary recommendations. Each ADA guideline recommendation was captured in two parts: (1) rule indicates the necessary and sucient conditions for a guideline to be in a compliant state, and (2) directive indicates what action to take if the rule was evaluated to be non-compliant. Guideline 1: Guideline 1: “For pre-diabetic and diabetic individuals, diet low in total fat but relatively high in carbohydrates should be replaced with Mediterranean diet.” The semantic encoding of this guideline contains the rules (conditions) for when this recommendation should be valid can be identied. These include (i) the person has T2D or pre-diabetes (since we are applying the rule from ADA), (ii) the person is consuming a diet, and (iii) the diet is classied as aand. In addition, the recommended action species that the diet should be replaced with a Mediterranean diet. Listing 4: OWL expression of Guideline 1. Guideline 2: “For individuals whose daily insulin dosing is xed, a consistent pattern of carbohydrate intake with respect to time and amount may be recommended to improve glycemic control and reduce the risk of hypoglycemia.” In the above rule, if a T2D patient is undergoing insulin therapy, they must have a consistent carbohydrate intake. The rule captures insulin intake and food consumption over a given period and determines whether the carbohydrate intake has been consistent. As demonstrated by the rule’s OWL encoding in Listing 5, there is a temporal pattern descriptor (i.e.,) that is associated with the consistent consumption of an amount of carbohydrates during a particular meal (e.g., breakfast) as determined by the TSS. There are also specic personal characteristics of a user (i.e.,status and PHO and captured in the PHKG. The provides the required range as a personalized guideline constraint, which would be used in the downstream application in providing the relevant dietary recommendation. Listing 5: OWL expression of Guideline 2. Using the guideline rules modeled in Section 5.1 on the PHKG generated in Section 4, we can generate directives that provide clinically relevant dietary recommendations. Specically, the semantic reasoner would assert a specic subclass of the These asserted directives would be associated with a certain(e.g., inform a downstream application how to provide an appropriate recommendation. We provide several questions that could be translated into SPARQL and evaluated with the insights generated from the semantic reasoner in Section 6. We utilize a competency question-based evaluation methodology [15] for evaluating the PHKG generated. Below, we describe three types of questions and how the answers can be derived from the PHKG. All of these questions have a corresponding SPARQL representation. In a similar vein, as long as a natural language question can be represented using the terms available in the PHO, an answer can be derived. These types of questions take the following form: 1. Progress:(“How have I been doing (improving, getting worse, maintaining) over the past day/week?)” 2. Consistency:(“Have I been consistent in my carbohydrate intake?”) 3. Compliance:(“Have I been following a Mediterranean diet?”) To answer these types of questions related to the user’s performance, we need to focus on how well their dietary intake matches up with the guidelines within a certain period. For example, the user may be struggling to maintain a consistent carbohydrate intake over the past week because they have been missing breakfast. In such a scenario, a question such as #1 above can be answered by discovering patterns within relevant temporal personal health data and deciding which of these may be the most important to surface to the user. 1. Improve Diet:(“How can I improve my diet strategy (considering personal preferences and context)?”) 2. Improve Performance:(“Will my current diet strategy improve my performance?”) 3. Satisfying Preferences:(“Does my current diet strategy meet my preferences?”) To successfully answer these questions, we include the user’s personal preferences and context in the PHKG. For example, if the user cannot eat breakfast due to their demanding daily schedule, the system has to come up with alternatives to alleviate this problem by recommending dierent carbohydrate amounts for lunch and dinner or recommend mid-morning snacks. 1. Use Implicit Knowledge:(“What should I eat for breakfast?”) 2. Allergies:(“What foods can I eat if I have a dairy allergy?”) 3. Dislikes: (“What can I substitute for almonds?”) For question #1 above, even though the question appears generic, using the PHKG, we augment the question with some implicit knowledge available in the PHKG and expand the question to a form such as “What should I eat for breakfast [diabetic, prefers spicy food, carbohydrates between 30-45 g, not to exceed 150 g daily total]?”. The constraints that go inside the “[]” are determined using a semantic reasoner (in our workow, we used the in-built reasoner in Protégé [16], and OWLReady2 [17] for this purpose). The semantic reasoner evaluates the PHKG against the guidelines to generate the user’s dietary needs and preferences. These will be in the form of personalized guideline constraints that provide input to downstream machine learning tasks such as recipe recommendations. In conjunction with the FoodKG [4] containing over 1 million recipes, ingredients, and nutrients, we can then recommend an appropriate food item either using SPARQL queries or deep learning based personalized food recommendation methods such as pFoodReq [18]. Both of these approaches would be able to leverage the food preferences, eating habits encoded in the PHKG, and the dietary guidelines or restrictions as appropriate for the user. Questions #2 and #3 would follow the same process and include the explicit constraints (i.e., allergies and dislikes) stated explicitly. There is a need for a system capable of discovering dietary insights hidden in a user’s temporal personal health data, such as food logs, and understanding these insights within the user’s health context to provide relevant lifestyle recommendations and potentially lead to a personalized dialog. Utilizing the extended time series summarization technique, we generate a Personal Health Knowledge Graph (PHKG) annotated with the Personal Health Ontology for capturing such dietary behaviors. The PHKG, when reasoned using a semantic reasoner, provides performance evaluations against selected lifestyle management guidelines dened by the ADA on appropriate eating habits for the individual. Our PHKG is dierent from a regular PKG because it can be readily used in clinically relevant dietary recommendation applications. The expressivity of the semantic rule representation and the reasoning process enables the recommendation of a food item to a T2D patient. Furthermore, because we have used standards-based ontological terms in the modeling process, the PHKG achieves a high degree of interoperability. This work could be extended to be used in downstream applications on personalized food recommender systems that utilize task-oriented dialogue such as [19]. Furthermore, even though we have focused on food in this initial modeling of a PHKG, we can adopt a similar approach to extend this work to other domains related to personal health, such as activity, medication intake, and even social determinants of health. We plan on addressing the many challenges that remain in collecting, managing, integrating, and analyzing the data required to populate, maintain, reason over, explain, and share the PHKG, which makes this an exciting area of research. The Personal Health Ontology, the Extended Time Series Summarization framework, the synthetic Personal Health Knowledge Graph, and the competency questions, along with sample answers, are available at https: //semantics-for-personal-health.github.io. This work is supported by IBM Research AI through the AI Horizons Network.