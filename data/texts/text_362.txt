Abstract—Social recommendation which aims to leverage social connections among users to enhance the recommendation performance. With the revival of deep learning techniques, many efforts have been devoted to developing various neural networkbased social recommender systems, such as attention mechanisms and graph-based message passing frameworks. However, two important challenges have not been well addressed yet: (i) Most of existing social recommendation models fail to fully explore the multi-type user-item interactive behavior as well as the underlying cross-relational inter-dependencies. (ii) While the learned social state vector is able to model pair-wise user dependencies, it still has limited representation capacity in capturing the global social context across users. To tackle these limitations, we propose a new Social Recommendation framework with Hierarchical Graph Neural Networks (SR-HGNN). In particular, we ﬁrst design a relation-aware reconstructed graph neural network to inject the cross-type collaborative semantics into the recommendation framework. In addition, we further augment SR-HGNN with a social relation encoder based on the mutual information learning paradigm between low-level user embeddings and high-level global representation, which endows SR-HGNN with the capability of capturing the global social contextual signals. Empirical results on three public benchmarks demonstrate that SR-HGNN signiﬁcantly outperforms state-ofthe-art recommendation methods. Source codes are available at: https://github.com/xhcdream/SR-HGNN. Recommender systems have play an important role in meeting user’s personalized interests and alleviating the information overload for various applications, ranging from e-commence platforms [13], [22], content provider [23], [34] to online review systems [26], [37]. With the prevalence of social networks in real-life online applications [12], [24], a key line of research work seeks to boost the recommendation performance via exploiting the users’ social relationships (e.g., online friends) [17]. In social recommender systems, users’ social ties serve as the important side information to provide connectivity information and semantic relatedness between users, and thus are utilized to enhance transitional recommendation models in yielding better results [36], [42], [45]. The core challenge of exploring social information in recommender systems is: how to incorporate user-user relationships into the collaborative ﬁltering scenario with interactive pattern learning between users and items [5], [35]. Conventional social-aware recommendation methods have made signiﬁcant process to regularize the matrix factorization framework with social information of users [14], [20], [39]. Recently, the immense success of deep learning techniques has witnessed some research work on the exploration of neural network structures to enhance recommender systems with social signals. Speciﬁcally, there are several attempts which adopt attentive memory network for attending to certain parts when performing relation encoding among users [2], [3]. For example, Chen et al. [3] introduced a transfer neural network to model the interplay between the social and item interaction domain. Additionally, the social inﬂuence among users have been approximated with a neural diffusion scheme through the layer-wise propagation of user embeddings [35]. In view of recent advancements of graph neural networks, a handful of graph-based message passing structures have been developed to aggregate relation structural information over the constructed graph with users and items [6], [43]. Despite the effectiveness of the above solutions, two important challenges have not been well addressed yet. First, practical recommendation scenarios may involve different types of user-item interactive behaviors, such as users’ different ratings over items in online review systems, or different activities of customers (e.g., browse, purchase) in e-commerce sites [8], [38]. However, most of existing social recommender systems either ignore the multi-type nature of user-item interactions, or assume that different types of relation edges between users and items share the same representation space (e.g., learning with categorical one-hot encoding [2], [3] or continuous valuebased linear transformation [18], [33]). Such relation heterogeneity could provide auxiliary behavior semantics that can hardly be comprehensively captured by current social-aware recommendation models. While intuitively useful to integrate multi-type user-item interactions into the learning of user preference, it is non-trivial to deal with it well. In particular, the complex dependencies across different interactions, making it difﬁcult to distill the desired relation-aware collaborative signals with the joint incorporation of high-order connectivity from both user and item dimensions. Second, the current designed embedding functions of users’ social information, lack an effective encoding of high-order relational structures, which is latent in user-user relations to reveal the social similarity across users [40]. To be more speciﬁc, most of current methods fuse cross-user relations from direct neighbourhood [2], [3] and can hardly capture the high-order social inﬂuence between users. While GraphRec [6] proposes to design graph structure-based neural network to aggregate relations between connected users, it only embeds the social signals into latent representation space with local proximity, due to the heavy computational cost in performing higherorder message passing over the social graph of users [1]. Hence, how to jointly capture the local and global contextual signals of users’ relationships in the recommendation framework remains a signiﬁcant challenge. Present Work. In light of aforementioned challenges, we propose a new Social Recommendation model with Hierarchical Graph Neural Network (SR-HGNN). In the two-phase recommendation framework, we propose to handle user-item interaction heterogeneity through a relation-aware reconstructed graph neural module. This graph neural network architecture automatically extracts the multi-relation collaborative signals from user-item interactions. We further supercharge the relation-aware graph learning framework with the global information to reconstruct the cross-domain (user-user and user-item) relations, during the embedding process of the graph neural network as constraints. Additionally, SR-HGNN captures users’ social relations by advancing the graph-based neural relation encoder, to jointly capture local and global relational structures between users. The global context enhanced social encoder not only learns the low-level patch embeddings of users from their social neighbors, but also derives the high-level contextual signals of the social graph to augment the user representation process under a global graph-structured mutual information maximization architecture. Our SR-HGNN generalizes the paradigm of mutual information estimation [11], [28] from feature vector space to the social graph-based user relation modeling, which injects hierarchical social similarities into relation learning via discriminating corrupted social structures. The contributions of this paper are highlighted as follows: global structure of social dependencies and multi-typed interactive patterns between users and items in social recommendation task. Towards this goal, we propose SR-HGNN, a new social recommender system with hierarchically structured graph neural networks. constructed graph neural module to i) encode the collaborative signal in the form of multi-type user-item relations, and ii) inject the social-aware multi-relational information into the embedding process via reconstructing the global connectivities between users and items. connections, we further propose to capture the users’ dependencies with graph-level mutual information maximization. This designed social relation encoder uniforms feature representation spaces from both low-level (locally) to highlevel (globally) social contextual signals. superiority of our SR-HGNN framework over various baselines in yeilding better reccommendation results. We begin with some necessary notations and then formally present the our studied social recommendation problem. We consider a recommendation scenario where a group of M users U = {u, ..., u, ..., u} and a set of N items V = {v, ..., v, ..., v}. We further deﬁne relevant inputs as below: Deﬁnition 1: User Social Graph G. We deﬁne the user social graph G= {U, E} to represent the users’ social relationships, where U (u∈ U) and Edenotes the set of user nodes and edges between them. In speciﬁc, if two users uand uare socially connected, there exists an edge between uand uin the constructed user social graph G. Deﬁnition 2: Multi-Type Interaction Graph G. With the consideration of different interactions between users and items, a multi-typed interaction graph is deﬁned as G= {U, V, E}, where V represents the set of item nodes. Furthermore, E denotes multiple types of interactive relations (e.g., different ratings or activities) between user uand item v. Problem Statement. Based on the aforementioned deﬁnitions, the studied social recommendation problem is formally deﬁned as follows: Input: the user-user social relation data represented with user social graph Gand the user-item interaction data exhibited with the multi-type interaction graph G. Output: A predictive function which aims to estimate the unknown multi-typed user-item interactive relations in graph G. In this section, we elaborate the technical details of our developed SR-HGNN framework. We ﬁrst describe our relationaware reconstructed graph neural network to capture the multityped user-item interactions. Then, we present the designed social dependency encoding framework which contextualizes the relation-aware collaborative signal modeling architecture with the global social context. To learn the multi-interactive collaborative signals, we develop a relation-aware message-passing architecture (as shown in Figure 1) between users and items with the differentiation of different user-item interactive relations. In particular, we ﬁrst decompose the item vertex of multi-type interaction graph G into multiple sub-nodes: v→ (v, ..., v), where K is the number of interaction types. Each sub-node vis connected to the corresponding user uwith the k-th type of user-item relation. By doing so, the multi-typed relations between user and item are reﬂected on the updated graph G= {U, V, E} with the total number of (M + N × K) vertices. 1) Embedding Propagation Module: To encode collaborative similarity across users and items, we design a messagepassing graph neural network to leverage the multi-relation user-item interaction graph Gfor embedding propagation. In general, the message passing architecture consists of two key components: message construction and message aggregation. Message Construction Phase. We deﬁne our message passing from user u∈ U to his interacted relation-speciﬁc item v∈ Vas follows: where f(·) is the message encoding function. xis the input feature representation corresponds to n-th item node interacted with ugiven the k-th interaction type. λdenotes the decay factor for the propagation between uand v. In our SR-HGNN, we deﬁne encoding function f(·) as below: where Jrepresents the set of item sub-nodes interacted with user u, and Jdenotes the set of users that are connected with v. W∈ Ris the weight matrix, where d and drepresents the latent dimensionality of xand the propagation module, respectively. Based on the convolutional operation, λreﬂects that the inﬂuence strength of vover uis inversely proportional to the number of u’s connected nodes, i.e., λ=√. Similarly, we deﬁne the message encoding function from user uto item sub-node vas follows: H∈ Rdenotes the social-aware user representations which are learned from our designed social dependency encoding framework (as elaborated in Section III-B). W∈ R and W∈ Rare trainable transformation matrices. Message Aggregation Phase. After obtaining the information from interacted users/items, we deﬁne our message aggregation function as follows: δ(·) is deﬁned as the PReLU activation function. m and mrespectively represents the self-propagated information for uand vwith the formal deﬁnitions: Based on the aforementioned message passing and aggregation functions, we will present how to incorporate highorder relationships across users and items, into our multi-typed interactive relation learning framework. We formally deﬁne our high-order propagation process as: l is the index of graph neural network layers L. The propagation can be rewrote with the matrix form based on the (l−1)-th order node representation Eand weight matrix Wfrom the l-th layer as follows: We generate the ﬁnal embeddings of user uand item subnode vwith the following concatenate operation: the overall item representation Eis aggregated over the set of {E, ..., E} with the mean pooling operation. 2) Reconstruction-based Context Incorporation: To inject the social-aware cross-relational signals into our multityped user-item interaction encoding architecture, we augment our graph-based message passing module with the exploration of both global social (user-user) and multi-interactive (useritem) contexts. In speciﬁc, we incorporate the cross-domain reconstruction constrains (i.e., adjacent matrices A∈ R of graph Gand A∈ Rof graph G) into embedding process of Eand E. We adopt the pairwise BPR loss as the objective in the reconstruction phase. For the reconstruction of user-item interactions A: if user u interacts with item vwith the k-th behavior relation, we will sample the corresponding negative samples vfrom other non-interacted (K − 1) relations. For the reconstruction of user-user social relations A, the negative instance uis sampled from his non-connected users. Formally, we present the reconstruction-based context incorporation as follows: L= −1ψ(A)log σ(s− s) (8) where V, V, Wand Ware learnable weight matrices. b, bare bias terms. ψ(A), ψ(A) indicates the number of non-zero elements in Aand A, respectively. To jointly capture the local and global social dependencies, we further develop a mutual information-based graph learning module to distill the hierarchical social similarity in the user embedding space. We build our social relation encoding module upon a dual-stage graph learning architecture (as shown in model architecture Figure 2). We ﬁrst design our graph-structured message propagation layer, to generate node-level latent representation h∈ R of each individual user u, where d indicates the hidden state dimensionality. We deﬁne the local information encoding function over the user social graph Gas follows: where δ(·) denotes the non-linear activation function Parametric ReLU [9] and H ∈ Rcorresponds to the encoded representations of all users. To inject the self-propagated signals, the identity matrix Iis added into the adjacent matrix A(constructed from graph G) to generateˆA,ˆA= A+I. A symmetric normalization strategy is applied in performing the neighboring information aggregation with the operation of ˆDˆAˆD, whereˆDrepresents the diagonal node degree matrix ofˆA. After learning the node-level user embeddings H ∈ R encoded from social structured graph, our next step is to obtain the graph-level representation over the social graph G. We ﬁrst deﬁne graph-level aggregation function η: R→ R with the consideration of node degrees as follows: where r∈ Rindicates the fused global latent representation of graph G. σ denotes the sigmoid activation function. Furthermore, band arepresents the element in the degree matrixˆDand adjacent matrixˆA, respectively. Inspired by the paradigm of mutual information maximization in feature representation [28], we enhance our social relation embeddings with the exploration of mutual information between node-level user embedding H and graphlevel representation r. To encode the mutual relations in social graph Gand follow this paradigm, we propose to train a discriminator to differentiate positive samples and negative samples from social graph Gwith the preservation of connected topological structure. Speciﬁcally, positive samples are denoted as (h, r), and negative instances (eh, r) are generated following the node shufﬂing strategy to associate each user with fake feature vectors Hwith one-hot encoding. Then, we feed the generated positive (h, r) and negative instances (eh, r) into our deﬁned discriminator function φ(·): R× R→ R. where discriminator function φ(·) aims to generate a probability score of user ubelongs to graph Ggiven the corresponding representations (h, r). W∈ Ris the learnable transformation matrix. We further deﬁne our mutual information-based loss as follows: where Nand Ndenotes the number of positive and negative samples, respectively. ρ(·) is an indicator function where ρ(h, r) = 1 and ρ(eh, r) = 1 corresponds to positive and negative instance during the training phase. By minimizing the loss L(maximizing the mutual information between local node-level and global graph-level representations), we could generate the enhanced user representations H∈ Rwith the preservation of global social context. Output: trained parameters in Θ to Eq 9 to Eq 10 according to Eq 12 according to Eq 1 to Eq 7 In the prediction layer, we incorporate the learned latent representations of user and item (E, E) into Multilayer Perceptron module, which is formally represented as follows: ˆr= ReLU(V· E+ b) · V+ b(13) where V∈ R, V∈ Rare learned transformation matrices, and b, bare bias terms. We deﬁne the loss in our prediction layer as: where Iis the indicator function, i.e., I= 1 if user u is interacted with item vand I= 0 otherwise. ˆrrepresents the explicit feedback between uand vcorresponding to the different types of user-item relations. After incorporating the reconstruction factors stated in Section III-A2, we deﬁne our joint loss function as below: ωand ωare parameters to the losses from different modules and prevent the overﬁtting issue. ωand Θ denotes the regularization term and model parameters, respectively. The training process is elaborated in Algorithm 1. Next, we analyze the complexity of the proposed SR-HGNN model. The embedding propagation module that learns graphbased representations costs O((M +KN)×d) computations for the message construction phase, and O(N ×K ×M ×d) calculations for the message aggregation phase. By taking advantage of the sparse matrix-multiplication, the cost of the second phase is reduced to O(ψ(A) × d), where ψ(A) denotes the number of user-item interactions. For the purpose of dimensionality reduction, (M +KN)×d is typically smaller than ψ(A). Hence, the two phases cost O(ψ(A) × d). The reconstruction-based context incorporation utilizes O(d) operations for each user-item pair, so O(ψ(A)×d) is required for the reconstruction. Analogously, we can ﬁnd out the complexity of reconstructing the user-user interaction is O(ψ(A)×d). Totally, the complexity of the multi-typed useritem interactive relation learning is O((ψ(A)+ψ(A))×d), which is close to the common graph neural networks considering small d. The mutual information learning based social modeling propagates information in a similar way, and also costs O(ψ(A)×d) complexity for calculation. The efﬁciency of our SR-HGNN is validated in the experiments by comparing the running time of our model with several state-of-the-arts. To evaluate our SR-HGNN, we perform extensive experiments with three real-world recommendation datasets. Particularly, we aim to answer the following research questions: ing with various state-of-the-art recommendation methods? in SR-HGNN (e.g., mutual information-based social relation encoder and relation-aware reconstructed graph neural module) can bring for social recommendation? tion sparsity levels as compared to competitive methods? recommendation performance of our SR-HGNN model? A. Experimental Settings 1) Data Description: We conduct performance validation with three real-world datasets: Epinions, Ciao and Douban. Table I summarizes the statistics of these three datasets. Epinions and Ciao. Epinions and Ciao data is collected from the popular social networking-based consumer review site Epinions [6] and Ciao [7], respectively. In these sites, users can establish social ties (who-trust-whom) with others, and interact with different items based on different rating scores (ranging from 1 to 5 and 1 as increment). We regard each rating score as an individual type of user-item interaction. Douban. This data is collected from the most popular Chinese online review platform: Douban. It is also a social networking platform which allows users to create connection with others based on their common interest. The rating interactions share the same score scales with Epinions and Ciao data. 2) Evaluation Protocols: We adopt two representative Root Mean Square Error (RMSE) and Mean Absolute Error (MAE) which have been widely used for recommendation with explicit feedback. Note that lower RMSE and MAE scores indicate better performance. Remarkable recommendation quality improvement can be achieved with small improvement on RMSE and MAE values [16], [18]. Following the same settings in [6], we set the data percentage for training, validation and test set with x%, (1 − x%)/2, (1 − x%)/2, respectively, where validation set is used for hyperparameter tuning. In our experiments, we set x% as (60%, 80%) to investigate the model performance with different input data ratio of user-item interactions. 3) Methods for Comparison: We compare the SR-HGNN with state-of-the-art methods from different research lines: Probabilistic Matrix Factorization Method. We ﬁrst consider the representative matrix factorization-based method. model which learns latent user/item feature vectors given their zero-mean spherical Gaussian priors. Conventional Social Recommendation Techniques. We include several conventional social recommendation approaches which unify the user-item interaction and social relationships. tion in the matrix factorization architecture, to capture the social phenomenon in the recommendation scenario. and the user-item interaction matrix in the recommendation process, based on probabilistic matrix factorization. ization terms to constrain the matrix factorization objective. ior and trust relationships to conduct recommendations, by utilizing the matrix factorization to learn user embeddings in terms of their trust relationships. Graph Neural Network Collaborative Filtering Models. We further compare SR-HGNN with two state-of-the-art recommendation models which augment the collaborative ﬁltering architecture with graph-based neural techniques. tional encoder-decoder to learn latent factors between users and items, with the reconstruction of masked embeddings. network-augmented collaborative ﬁltering model under a message passing architecture. In order to incorporate the social network information into NGCF, we perform the embedding propagation on the integrative user-item and user-user relation graph, with the utilization of graph convolutional network to capture the high-order connectivity. Attentive Social Recommender Systems. We further compare SR-HGNN with another line of social recommendation models which utilizes attention mechanism to encode the latent relationships between users and items. to capture relationships between users and identify the underlying informative signals from user’s neighbors. transfer neural network to adaptively learn the interplay relationships between the social and item domain. Social Recommendation with Graph Neural Networks. Finally, we compare SR-HGNN with graph neural networkbased social-aware recommendation framework. for social recommendation by aggregating social relations based on attention mechanism. wise inﬂuence diffusion module to capture the inﬂuence propagation patterns between users in a recursive manner. 4) Parameter Settings: We implement our SR-HGNN with Pytorch and utilize Adam as the optimizer for model parameter inference. The hidden state dimensionality dof our relation-aware graph neural module is tuned from the range of [8, 16, 32, 64, 128]. To achieve the trade-off between the social regularized representation and multi-relation encoding process [11], the embedding size din the mutual information-based social relation encoder is searched from the range of [250, 500, 100, 1500, 2000]. The batch size is chosen from [1024, 2048, 4096, 8192] and the model optimization is performed with the learning rate of 1e. In our experiments, the early stopping is adopted to terminate the training process. B. Performance Comparison (RQ1) In table II, we present the performance of all compared methods on three datasets, in terms of RMSE and MAE. In all cases, we can observe that SR-HGNN consistently outperforms different types of baselines by a signiﬁcant margin. We attribute such improvement to the joint modeling of global social dependencies between users and multi-typed relations with respect to different user-item interactions. The performance is followed by GraphRec which models user-item relationships based on graph neural network. This veriﬁes the utility of performing propagation information across users and items under a graph-structured learning framework. However, GraphRec fails to capture global social context when modeling social dependency-aware user’s preference. Among various baselines, we can observe that: by incorporating the social signals into the state-of-the-art neural graph collaborative ﬁltering architecture (i.e., NGCF+SN), under a message passing framework with the relation heterogeneity and high-order connectivity over user-item graph, it could achieve competitive performance as compared to some deep social recommeder systems (e.g., SAMN and EATNN). This observation therefore points to the positive effect of modeling user-user and user-item graph-structured collaborative relations in the embedding function. The performance gap between attentive recommendation methods and graph neural network enhanced models also sheds light on the limitation of aggregating cross-domain dependencies with a weighted summation scheme. The potential reason lies in the failure to consider the high-level insights due to the hierarchical interdependencies across users and items. C. Model Ablation and Effectiveness Analyses (RQ2) To investigate the component-wise effect in our joint learning SR-HGNN framework, we consider different model variant settings from three perspectives and analyze their effects: 1) Global Social Relation Encoder: To evaluate the effectiveness of our mutual information-based graph neural module in capturing global social dependencies, we ﬁrst replace our social relation encoder with two representative graph neural network architectures: graph convolutional network [27] SRHGNNand graph attention network [32] SR-HGNN. The results are presented in Figure 3. It is clear to see that: while GCN and GAT have obtained promising results in fusing feature information between dependent users, our SR-HGNN could further boost the model accuracy through maximizing the mutual information between local and global representations of user dependence. 2) Reconstruction-based Context Incorporation: We further validate the impact of incorporating the reconstruction constrains (i.e., social-aware multi-relational information: reconstruction constrains Land L) into our embedding learning process of users and items. Particularly, we generate the variant SR-HGNNwithout the context reconstruction component. The results in Table III show the beneﬁt of the designed reconstructed graph neural module which endows SR-HGNN with the capability of characterizing overall crossdomain relational knowledge. 3) Multi-Typed Interactive Relation Learning: Finally, we evaluate the inﬂuence of two key factors: i) multi-typed user-item interactions; and ii) social information among users. Accordingly, we generate four variants corresponding to these two dimensions: single-type interaction modeling with or without social information–SR-HGNN, SR-HGNN; multitype interaction modeling with or without social information– SR-HGNN, SR-HGNN. From evaluation results in Figure 4, we summarize two key observations: mation in improving the recommendation performance. with the recommendation framework could augment the learning process of complex user’s preference. D. Performance w.r.t Interaction Sparsity Levels (RQ3) We perform experiments to investigate the representation ability of our SR-HGNN in handling inactive users that interact with a limited number of items. As shown in Figure 5, the recommendation performance is evaluated with respect to different interaction data sparsity levels. Speciﬁcally, we split target user instances into three groups with the increasing sparsity level, and keeping the number of interactions within each group to be equal. From the comparison results with several representative baselines, we can observe that SRHGNN consistently outperforms competitive methods with different data sparsity levels. Moreover, larger performance gain can also be achieved by SR-HGNN in forecasting preference of sparse users on Douban dataset. These observations demonstrate that SR-HGNN is capable of effectively modeling relations from social and behavioral context modalities, to alleviate the data scarcity issue. E. Hyperparameter Study (RQ4) We investigate the inﬂuence of hyperparameters in our SRHGNN framework. To integrate results on different datasets with different performance scales into the same ﬁgure, we set y-axis as the performance variation ratio compared to the best performance. Figure 6 shows the evaluation results. We summarize the key observations as follows: Effect of dimensionality. We separately evaluate the effects of d and d, which corresponds to the hidden state dimensionality of our relation-aware reconstructed graph neural module and global social relation encoder. With the consideration of different dimension scales and concatenate operations, d and dis tuned with different embedding size ranges. We can observe that a larger value of hidden state dimensionality does not necessarily lead to better performance, due to the overﬁtting issue. We set d and das (16, 64, 128) and (1000, 500, 1500) corresponding to Ciao, Epinions, Douban data, to achieve the best performance. Effect of graph neural network depth. Increasing the depth L of our relation-aware reconstructed graph neural module could improve the recommendation results. SR-HGNN with 2 and 3 embedding propagation layers obtain better performance as compared to the model which considers ﬁrst-order relational structure only. We attribute such improvement to the highorder non-linearities brought by stacking more propagation layers. Additionally, the slight performance degradation can be noticed as L increases since the deeper graph neural network tend to overﬁt. F. Model Efﬁciency Study (RQ5) We ﬁnally investigate the model efﬁciency of our SRHGNN. Table IV presents the computational cost of training (with each individual epoch) for SR-HGNN and several deep neural network-based baselines on three different datasets. In our experiments, most compared baselines are evaluated using their released source codes. We can observe that SRHGNN could achieve competitive efﬁciency as compared to most neural network-based social recommder systems. We also examine the convergence property of the SR-HGNN. Figure 7 shows that the prediction accuracy as a function of the number of epochs. We could notice that SR-HGNN converges much smoother and faster than other state-of-the-art baselines in most cases, and performance is improved with more iterations. This observation also suggests the good efﬁciency of our social recommender system with hierarchical graph neural network. This section discuss the research work which is related to our studied problem from the following aspects. A. Deep Collaborative Filtering Techniques Deep neural networks bring powerful representation and generalization ability for collaborative ﬁltering recommendation techniques [47]. For example, NeurMF [10] replaced the inner-product operation with Multilayer Perceptron to learn non-linear relations between user and item embeddings. Inspired by the recent developments of graph neural networks, NGCF [30] and STAR-GCN [46] proposed to perform embedding propagation in the user-item integration graph. In addition, graph embedding technique has been leveraged to unify collaborative ﬁltering with attention mechanism for pairwise user-item relation fusion [29]. However, these models cannot well take the social relational information into consideration. Considering user-item interactive behavior tend to be inﬂuenced by other relevant users, this work incorporates social relations for recommendation by jointly modeling of multiplex user-item interactions and user-user social dependencies. Social recommendation aims at modeling the social signals among users to improve the recommender systems, with the consideration that users’ interactions over items can be affected their friends [17], [31]. Previous work has made significant progress in incorporating social relationships into the matrix factorization framework with various integration schemes. For example, Ma et al. [19] performed the factor analysis based on the probabilistic matrix factorization. Yang et al. [39] built a matrix factorization model on the trust network of users based on their opinion propagation relationships. With the utilization of cross-domain user relations, multiple relations across heterogeneous networks were explored in [15]. With the advancement of deep learning techniques in revolutionizing recommender systems, many deep neural network models have been developed to jointly map user-item interactions and social relations between users into a shared latent space [33], [43]. Among various algorithms, attention mechanism has served as an effective tool for relation aggregation. In particular, attentive memory mechanism has been utilized to learn inﬂuence strength among users in the social recommendation framework [2]–[4]. Fan et al. [7] proposed a random walk-based hierarchical attention network to select most relevant information from user’s social neighbors. Furthermore, motivated by the idea of graph neural network for aggregating feature information from node’s neighbors in a network structure, several attempts aim at aggregating user relations with graph attention encoder [6], [25]. However, most of existing deep social recommender systems perform user aggregation via modeling the local behavioral similarity between users, which lacks an effective encoding of the collaborative signals between users in a comprehensive global space. To ﬁll this gap, this work aggregates global contextual signals by exploring high-order relationships among users. Inspired by the promising results of graph neural network in learning dependence of graph structured data [32], [44], another research line seeks to capture the user-item relationships with graph neural networks [30], [41], [46]. For example, Wang et al. [30] proposed a graph relation encoder via the message passing between users and items for collaborative ﬁltering. A stacked graph convolutional recommendation network was proposed to learn the masked user and item embeddings under a encoder-decoder architecture [46]. PinSage [41] applied the graph convolutional network in the user embedding generation process. Different from these models, SR-HGNN augments the graph-based recommendation with the exploration of global contextual signals, based on the mutual information learning between low-level individual representations and high-level graph structure embedding. In this paper, we proposed SR-HGNN, to generalize graph neural network into social-aware collaborative ﬁltering architecture, for jointly incorporating global dependencies between users and relation-aware users’ preference over different items. In SR-HGNN, we design a mutual information-contextualized social relation encoder which is capable of capturing global social dependencies among users. Based on the insight of multityped user-item interactions, we endow the graph-structured collaborative relation modeling to exploit the cross-interactive behavior dependencies. Our experiments show that SR-HGNN consistently outperforms state-of-the-art social recommender systems. Future work includes incorporating external textual information of items (e.g., users’ reviews or items textual descriptions) into the social recommendation framework to encode richer semantic signals. In addition, another line of future work lies in applying the developed SR-HGNN framework to other types of social-aware recommendation datasets. We thank the anonymous reviewers for their constructive feedback and comments. This work is supported by National Nature Science Foundation of China (61672241), Major Project of National Social Science Foundation of China (18ZDA062), Natural Science Foundation of Guangdong Province (2016A030308013), Science and Technology Program of Guangdong Province (2019A050510010).